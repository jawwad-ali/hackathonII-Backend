# =============================================================================
# Gemini API Configuration
# =============================================================================
# REQUIRED: Your Google Gemini API key from https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Gemini OpenAI-compatible API endpoint (do not change unless using a different version)
GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta/openai/

# Gemini model to use (gemini-2.5-flash for low latency, gemini-2.5-pro for complex reasoning)
GEMINI_MODEL=gemini-2.5-flash

# =============================================================================
# Database Configuration
# =============================================================================
# REQUIRED: PostgreSQL connection string with SSL enabled
# Format: postgresql://username:password@host:port/database?sslmode=require
# Example (Neon): postgresql://user:pass@ep-cool-darkness-123456.us-east-2.aws.neon.tech/neondb?sslmode=require
# Example (Local): postgresql://postgres:password@localhost:5432/todo_db?sslmode=prefer
DATABASE_URL=postgresql://your_user:your_password@your_host.neon.tech/your_database?sslmode=require

# =============================================================================
# MCP Server Configuration
# =============================================================================
# Command to run MCP server (uvx for uv-based execution)
MCP_SERVER_COMMAND=uvx

# MCP server arguments (comma-separated): fastmcp,run,<path_to_server>
# Default: fastmcp,run,src/mcp_server/server.py
MCP_SERVER_ARGS=fastmcp,run,src/mcp_server/server.py

# MCP server connection timeout in seconds (recommended: 5s for fast failure detection)
MCP_SERVER_TIMEOUT=5

# =============================================================================
# Application Configuration
# =============================================================================
# Application environment (development, staging, production)
APP_ENV=development

# Host to bind the application (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
APP_HOST=0.0.0.0

# Port for the FastAPI application
APP_PORT=8000

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# Circuit Breaker Configuration
# =============================================================================
# MCP circuit breaker: Number of consecutive failures before opening circuit
CIRCUIT_BREAKER_MCP_FAILURE_THRESHOLD=5

# MCP circuit breaker: Recovery timeout in seconds before attempting reconnection
CIRCUIT_BREAKER_MCP_RECOVERY_TIMEOUT=30

# Gemini circuit breaker: Number of consecutive failures before opening circuit
CIRCUIT_BREAKER_GEMINI_FAILURE_THRESHOLD=3

# Gemini circuit breaker: Recovery timeout in seconds before retrying API calls
CIRCUIT_BREAKER_GEMINI_RECOVERY_TIMEOUT=60

# =============================================================================
# Performance Configuration
# =============================================================================
# Maximum input length in characters for chat requests
MAX_INPUT_LENGTH=5000

# Request timeout in seconds for API calls
REQUEST_TIMEOUT=30

# Maximum concurrent connections allowed
MAX_CONCURRENT_CONNECTIONS=100
